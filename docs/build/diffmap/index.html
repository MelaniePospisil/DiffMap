<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Diffusion Maps · DiffMap Documentation</title><meta name="title" content="Diffusion Maps · DiffMap Documentation"/><meta property="og:title" content="Diffusion Maps · DiffMap Documentation"/><meta property="twitter:title" content="Diffusion Maps · DiffMap Documentation"/><meta name="description" content="Documentation for DiffMap Documentation."/><meta property="og:description" content="Documentation for DiffMap Documentation."/><meta property="twitter:description" content="Documentation for DiffMap Documentation."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">DiffMap Documentation</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">diffmap.jl Documentation</a></li><li><a class="tocitem" href="../DiffusionMaps/">-</a></li><li class="is-active"><a class="tocitem" href>Diffusion Maps</a><ul class="internal"><li><a class="tocitem" href="#DiffMap-Struct"><span><code>DiffMap</code> Struct</span></a></li><li><a class="tocitem" href="#DiffMetric-Struct"><span><code>DiffMetric</code> Struct</span></a></li><li><a class="tocitem" href="#Properties"><span>Properties</span></a></li><li><a class="tocitem" href="#Functions"><span>Functions</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Diffusion Maps</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Diffusion Maps</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/MelaniePospisil/DiffMap.git" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/MelaniePospisil/DiffMap.git" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Diffusion-Maps"><a class="docs-heading-anchor" href="#Diffusion-Maps">Diffusion Maps</a><a id="Diffusion-Maps-1"></a><a class="docs-heading-anchor-permalink" href="#Diffusion-Maps" title="Permalink"></a></h1><p>Diffusion Maps is a similarity preserving dimensionality reduction.</p><h2 id="DiffMap-Struct"><a class="docs-heading-anchor" href="#DiffMap-Struct"><code>DiffMap</code> Struct</a><a id="DiffMap-Struct-1"></a><a class="docs-heading-anchor-permalink" href="#DiffMap-Struct" title="Permalink"></a></h2><p>The <code>DiffMap</code> type represents a Diffusion Maps model constructed for <code>T</code> type data. It stores all the relevant information for the reduction.</p><pre><code class="language-julia hljs">struct DiffMap{T &lt;: Real} &lt;: NonlinearDimensionalityReduction
    X::AbstractMatrix{T}
    d::Number
    t::Int
    ɛ::Real
    metric::PreMetric
    λ::AbstractVector{T}
    V::AbstractMatrix{T}
    P::AbstractMatrix{T}
end</code></pre><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Main.DiffusionMaps.DiffMap" href="#Main.DiffusionMaps.DiffMap"><code>Main.DiffusionMaps.DiffMap</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">DiffMap{T &lt;: Real} &lt;: NonlinearDimensionalityReduction</code></pre><p>The <code>DiffMap</code> type represents diffusion maps model constructed for <code>T</code> type data. It stores all the relevant information for the reduction.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MelaniePospisil/DiffMap.git">source</a></section></article><h2 id="DiffMetric-Struct"><a class="docs-heading-anchor" href="#DiffMetric-Struct"><code>DiffMetric</code> Struct</a><a id="DiffMetric-Struct-1"></a><a class="docs-heading-anchor-permalink" href="#DiffMetric-Struct" title="Permalink"></a></h2><p>Structure for the distance function used in the Diffusion Maps. It is the implementation of the Gaussian Kernel.</p><pre><code class="language-julia hljs">struct DiffMetric &lt;: PreMetric 
    ɛ::Real
end
</code></pre><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Main.DiffusionMaps.DiffMetric" href="#Main.DiffusionMaps.DiffMetric"><code>Main.DiffusionMaps.DiffMetric</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Structure for the here used distance function</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MelaniePospisil/DiffMap.git">source</a></section></article><h2 id="Properties"><a class="docs-heading-anchor" href="#Properties">Properties</a><a id="Properties-1"></a><a class="docs-heading-anchor-permalink" href="#Properties" title="Permalink"></a></h2><p><strong>size(M):</strong> Returns a tuple with the dimensions of the reduced output (=d) and observations (=the number of columns of the initial input).</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.size" href="#Base.size"><code>Base.size</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">size(M)</code></pre><p>Returns a tuple with the dimensions of the reduced output (=d) and obervations (=the number of columns of the initial input).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MelaniePospisil/DiffMap.git">source</a></section></article><p><strong>indim(M):</strong> Returns the input dimensions of the model.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MultivariateStats.indim" href="#MultivariateStats.indim"><code>MultivariateStats.indim</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">indim(M)</code></pre><p>Returns the input dimensions of the model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MelaniePospisil/DiffMap.git">source</a></section></article><p><strong>outdim(M):</strong> Returns the output dimensions of the model.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MultivariateStats.outdim" href="#MultivariateStats.outdim"><code>MultivariateStats.outdim</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">outdim(M)</code></pre><p>Returns the output dimensions of the model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MelaniePospisil/DiffMap.git">source</a></section></article><p><strong>eigvals(M):</strong> Return eigenvalues of the kernel matrix of the model M.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LinearAlgebra.eigvals" href="#LinearAlgebra.eigvals"><code>LinearAlgebra.eigvals</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">eigvals(M)</code></pre><p>Return eigenvalues of the kernel matrix of the model <code>M</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MelaniePospisil/DiffMap.git">source</a></section></article><p><strong>eigvecs(M):</strong> Return eigenvectors of the kernel matrix of the model M.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LinearAlgebra.eigvecs" href="#LinearAlgebra.eigvecs"><code>LinearAlgebra.eigvecs</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">eigvecs(M)</code></pre><p>Return eigenvectors of the kernel matrix of the model <code>M</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MelaniePospisil/DiffMap.git">source</a></section></article><p><strong>metric(M):</strong> Returns the metric used to calculate the kernel matrix of the model M. Defaults to the here defined DiffMetric.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Main.DiffusionMaps.metric" href="#Main.DiffusionMaps.metric"><code>Main.DiffusionMaps.metric</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">metric(M)</code></pre><p>Returns the metric used to calculate the kernel matrix of the model <code>M</code>.  Defaults to the here defined DiffMetric.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MelaniePospisil/DiffMap.git">source</a></section></article><p><strong>kernel(M):</strong> Returns the kernel matrix of the model M. This is the normalized and symmetric distance matrix. The distance is calculated with the metric function.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Main.DiffusionMaps.kernel" href="#Main.DiffusionMaps.kernel"><code>Main.DiffusionMaps.kernel</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">kernel(M)</code></pre><p>Returns the kernel matrix of the model <code>M</code>.  This is the normalized and symmetric distance matrix. The distance is calculated with the metric function. Call metric(M) to display the model&#39;s metric function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MelaniePospisil/DiffMap.git">source</a></section></article><h2 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h2><h3 id="Exported-Functions"><a class="docs-heading-anchor" href="#Exported-Functions">Exported Functions</a><a id="Exported-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Exported-Functions" title="Permalink"></a></h3><p><strong>fit(::Type{DiffMap}, X::AbstractMatrix; ...)::DiffMap</strong>: Fit a DiffMap model to X using specified parameters.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="StatsAPI.fit" href="#StatsAPI.fit"><code>StatsAPI.fit</code></a> — <span class="docstring-category">Function</span></header><section><div><p>fit(::Type{DiffMap}, X::AbstractMatrix;      metric::PreMetric=DiffMetric(1.0),      maxoutdim::Int=2,     ɛ::Real=1.0,      α::Real=0.5,     t::Int=1,     sparse_enabled::Bool=false,     tol::Real=1e-6)::DiffMap    </p><p>Fit a DiffMap model to <code>X</code> using the specified parameters.</p><p><strong>Arguments</strong></p><ul><li><code>::Type{DiffMap}</code>: Type of the DiffMap model.</li><li><code>X::AbstractMatrix</code>: Data matrix of observations. Each row of <code>X</code> is an observation.</li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>metric::PreMetric</code>: The metric used for computing the distance matrix.   Default: DiffMetric(1.0)</li><li><code>maxoutdim::Int</code>: The dimension of the reduced space.   Default: 2</li><li><code>ɛ::Real</code>: The scale parameter for the Gaussian kernel.   Default: 1.0</li><li><code>α::Real</code>: A normalization parameter.   Default: 0.5</li><li><code>t::Int</code>: The number of transitions.   Default: 1</li><li><code>sparse_enabled::Bool</code>: Enable sparse representation of the kernel matrix.   Default: false</li><li><code>tol::Real</code>: Tolerance for sparse representation. Values below <code>tol</code> in the similarity matrix will be set to zero.   Default: 1e-6</li></ul><p><strong>Returns</strong></p><ul><li><code>DiffMap</code>: A DiffMap object representing the fitted model.</li></ul><p><strong>Examples</strong></p><p>X = rand(100, 3)            # toy data set, 100 observations with 3 features model = fit(DiffMap, X)     # construct a DiffMap model R = projection(model)       # Obtain the lower dimensional embedding</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MelaniePospisil/DiffMap.git">source</a></section></article><p><strong>projection(M::DiffMap)</strong>: Returns the lower-dimensional embeddings of the input data.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MultivariateStats.projection" href="#MultivariateStats.projection"><code>MultivariateStats.projection</code></a> — <span class="docstring-category">Function</span></header><section><div><p>projection(M::DiffMap)</p><p>Returns the lower-dimensional embeddings of the input data. The format (rows = features or rows = observations) corresponds to the input format.</p><p><strong>Arguments</strong></p><ul><li><code>M::DiffMap</code>: The diffusion map model obtained from fitting.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MelaniePospisil/DiffMap.git">source</a></section></article><p><strong>predict(model::DiffMap, data::AbstractMatrix; k::Int = 1)</strong>: Embed new points into the reduced-dimensional space.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="StatsAPI.predict" href="#StatsAPI.predict"><code>StatsAPI.predict</code></a> — <span class="docstring-category">Function</span></header><section><div><p>predict(model::DiffMap,          data::AbstractMatrix;          k::Int = 1)</p><p>Embed new points into the reduced-dimensional space.</p><p><strong>Arguments</strong></p><ul><li><code>model::DiffMap</code>: The diffusion map model obtained from fitting.</li><li><code>new_points::AbstractMatrix</code>: The new points to be embedded.</li><li><code>k::Int = 10</code>: The number of nearest neighbors to consider.</li></ul><p>This function embeds new points into the reduced-dimensional space of a DiffMap model.  It therefore calculates the k nearest neigbours in the model&#39;s input data X  and gives back the weightet average of their lower-dimensional embeddings.</p><p><strong>Returns</strong></p><p>An array containing the embedded representation of the new points.</p><p><strong>Note</strong></p><p>If the dimension of <code>new_points</code> is different from the dimension of the training data, a dimension mismatch error is raised.</p><p>The &quot;new<em>points&quot; are not added to the model. The model stays unchanged.  To alter the model and add the new points, consider calculating a new DiffMap model with  new</em>data = hcat(model.X, new<em>points) new</em>model = fit(DiffMap, new_data)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MelaniePospisil/DiffMap.git">source</a></section></article><p><strong>reconstruct(model::DiffMap, data::AbstractMatrix; k::Int = 1):</strong> Calculate an approximation of the higher-dimensional input, given the lower-dimensional output.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MultivariateStats.reconstruct" href="#MultivariateStats.reconstruct"><code>MultivariateStats.reconstruct</code></a> — <span class="docstring-category">Function</span></header><section><div><p>reconstruct(model::DiffMap,              data::AbstractMatrix;              k::Int = 1)</p><p>Calculate an approximation of the higher dimensional imput, given the lower dimensional output.</p><p><strong>Arguments</strong></p><ul><li><code>model::DiffMap</code>: The diffusion map model obtained from fitting.</li><li><code>data::AbstractMatrix</code>: The data points to be reconstructed in the original input space.</li><li><code>k::Int = 10</code>: The number of nearest neighbors to consider for reconstruction.</li></ul><p>This functioncalculates an approximated higher dimensional input based on a DiffMap model. It calculates the k nearest neighbors in the model&#39;s input data <code>X</code> and returns the weighted average of their higher-dimensional embeddings.</p><p><strong>Returns</strong></p><p>An array containing the reconstructed representation of the new points in the original input space.</p><p><strong>Note</strong></p><p>If the dimension of <code>data</code> is different from the dimension of the projection data, a dimension mismatch error is raised.</p><p>The &quot;data&quot; points are not added to the model. The model remains unchanged. To alter the model and add the new points, consider calculating a new DiffMap model with <code>new_data = hcat(model.X, data)</code> <code>new_model = fit(DiffMap, new_data)</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MelaniePospisil/DiffMap.git">source</a></section></article><h3 id="Helper-Functions"><a class="docs-heading-anchor" href="#Helper-Functions">Helper Functions</a><a id="Helper-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Helper-Functions" title="Permalink"></a></h3><p><strong>normalize_laplacian(S::AbstractMatrix, α::Real)::AbstractMatrix</strong>: Helper function within fit to normalize the Laplacian matrix.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Main.DiffusionMaps.normalize_laplacian" href="#Main.DiffusionMaps.normalize_laplacian"><code>Main.DiffusionMaps.normalize_laplacian</code></a> — <span class="docstring-category">Function</span></header><section><div><p>normalize_laplacian(A::AbstractMatrix, α::Real)</p><p><strong>Helper function within fit.</strong> Normalize the Laplacian matrix <code>A</code> using a power normalization factor <code>α</code>.</p><p><strong>Arguments</strong></p><ul><li><code>A::AbstractMatrix</code>: The Laplacian matrix to be normalized.</li><li><code>α::Real</code>: The power normalization factor.</li></ul><p><strong>Returns</strong></p><ul><li><code>res::AbstractMatrix</code>: The normalized Laplacian matrix.</li></ul><p>This function computes the normalized Laplacian matrix by applying a power  normalization factor <code>α</code> to the input matrix <code>A</code>. </p><p>It first constructs a diagonal matrix <code>D</code> by summing the rows of <code>A</code> and  placing the resulting sums on the diagonal. </p><p>Then, it applies the power normalization operation <code>D^(-α) * A * D^(-α)</code>  to obtain the Laplacian matrix.</p><p>Lastly it computes the now-wise normalization <code>D^(-α) * L</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MelaniePospisil/DiffMap.git">source</a></section></article><p><strong>normalize_direction!(A::AbstractMatrix)</strong>: Helper function within fit to adjust the direction of columns in the matrix A.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Main.DiffusionMaps.normalize_direction!" href="#Main.DiffusionMaps.normalize_direction!"><code>Main.DiffusionMaps.normalize_direction!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>normalize_direction!(A::AbstractMatrix)</p><p><strong>Helper function within fit.</strong> Adjust the direction of columns in the matrix <code>A</code>.</p><p><strong>Arguments</strong></p><ul><li><code>A::AbstractMatrix</code>: The matrix whose column directions need to be normalized.</li></ul><p>This function adjusts the direction of each column in the matrix <code>A</code>.  It iterates over the columns of <code>A</code> and checks if the first element of  each column is negative. If so, it flips the sign of all elements in that column,  effectively normalizing its direction. This makes sure, that the fitting of the same data has the same  lower dimensional embedding and doesn&#39;t differ because of the eigenvector&#39;s sign.</p><p>Note: This function modifies the input matrix <code>A</code> in place.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/MelaniePospisil/DiffMap.git">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../DiffusionMaps/">« -</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.2 on <span class="colophon-date" title="Saturday 11 November 2023 11:01">Saturday 11 November 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
